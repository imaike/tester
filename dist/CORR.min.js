!function(I){function g(A){if(C[A])return C[A].exports;var n=C[A]={i:A,l:!1,exports:{}};return I[A].call(n.exports,n,n.exports,g),n.l=!0,n.exports}var C={};g.m=I,g.c=C,g.i=function(I){return I},g.d=function(I,C,A){g.o(I,C)||Object.defineProperty(I,C,{configurable:!1,enumerable:!0,get:A})},g.n=function(I){var C=I&&I.__esModule?function(){return I.default}:function(){return I};return g.d(C,"a",C),C},g.o=function(I,g){return Object.prototype.hasOwnProperty.call(I,g)},g.p="",g(g.s=2)}({2:function(module,exports){eval('//Ken-Q Analysis\n//Copyright (C) 2016 Shawn Banasick\n//\n//    This program is free software: you can redistribute it and/or modify\n//    it under the terms of the GNU General Public License as published by\n//    the Free Software Foundation, either version 3 of the License, or\n//    (at your option) any later version.\n\n\n// JSlint declarations\n/* global window, $, _, setTimeout, evenRound, CENTROID, QAV, UTIL, performance*/\n\n// QAV is the global state data store\n(function (CORR, QAV, undefined) {\n    \'use strict\';\n\n    CORR.createCorrelationTable = function () {\n        var t1, t0 = performance.now();\n        var createCorrelationTable;\n\n        var namesFromExistingData2 = QAV.getState("qavRespondentNames");\n\n        // to prevent errors in zScores and datatable error when "." in name\n        var namesFromExistingData = UTIL.checkUniqueName(namesFromExistingData2);\n\n        QAV.setState("qavRespondentNames", namesFromExistingData);\n        QAV.setState("respondentNames", namesFromExistingData);\n        QAV.setState("qavTotalNumberSorts", namesFromExistingData.length);\n        QAV.setState("totalNumberSorts", namesFromExistingData.length);\n\n        // database data analysis\n        var originalSortSize2 = QAV.getState("qavOriginalSortSize");\n        var sortsFromExistingData = QAV.getState("qavRespondentSortsFromDbStored");\n\n        var isOnline = UTIL.checkIfOnline();\n\n        if (window.Worker && isOnline) {\n            $("#correlationSpinnerText").css(\'visibility\', \'visible\');\n            $("#correlationSpinnerDiv").addClass(\'calcSpinner\');\n            var myWorker = new Worker(\'wrkrs/workerCorr.js\');\n            var workerMessageArray = [originalSortSize2, sortsFromExistingData, namesFromExistingData];\n            myWorker.postMessage(workerMessageArray);\n            myWorker.onmessage = function (e) {\n                QAV.setState(\'sortsAsNumbers\', e.data[0]);\n                QAV.setState(\'positiveShiftedRawSorts\', e.data[1]);\n                QAV.setState(\'correlationTableArrayFormatted\', e.data[2]);\n                QAV.setState(\'respondentNames\', e.data[3]);\n                QAV.setState(\'originalCorrelationValues\', e.data[4]);\n\n                // remove spinner and message\n                $("#correlationSpinnerText").css(\'visibility\', \'hidden\');\n                $("#correlationSpinnerDiv").removeClass(\'calcSpinner\');\n\n                // draw the display table\n                createDisplayTableJQUERY(e.data[2], \'correlationTable\');\n\n                t1 = performance.now();\n                console.log(\'%c Correlation Table completed in \' + (t1 - t0).toFixed(0) + \' milliseconds\', \'background: black; color: white\');\n            };\n        } else {\n\n            if (namesFromExistingData.length > 0) {\n\n                $("#correlationsSpinner").append(\'<p id="spinnerText">&nbsp&nbsp Calculating, <i>please wait</i>&nbsp&nbsp</p>\').fadeIn(300);\n            }\n\n            $("#calculatingCorrelationsModal").toggleClass(\'active\');\n\n            // setTimeout to force display of spinner\n            setTimeout(function () {\n\n                // convert sorts to arrays\n                var sortsAsNumbers2 = CORR.convertSortsTextToNumbers(sortsFromExistingData, originalSortSize2);\n\n                // do the calcuations\n                createCorrelationTable = CORR.calculateCorrelations(sortsAsNumbers2, namesFromExistingData);\n\n                $("#correlationsSpinner").children("p").remove();\n\n                // draw the display table\n                createDisplayTableJQUERY(createCorrelationTable, \'correlationTable\');\n\n                t1 = performance.now();\n                console.log(\'%c Correlation Table completed in \' + (t1 - t0).toFixed(0) + \' milliseconds\', \'background: black; color: white\');\n\n            }, 10);\n        }\n    };\n\n\n    /* *******************************************************************  model\n    // ************ convert sorts and shift to positive values **********************\n    // ******************************************************************************\n    */\n    CORR.convertSortsTextToNumbers = function (sortsTextFromDb, originalSortSize) {\n        console.time("convertNumbers");\n        var sortsAsNumbers = [];\n        var maxArrayValue;\n\n        // skip conversion if data coming from somewhere other than pasted data\n        if (_.isArray(sortsTextFromDb[0]) === false) {\n            _(sortsTextFromDb).forEach(function (element, j) {\n                var startPoint = 0;\n                var endPoint = 2;\n                var tempArray = [];\n                var loopLen = originalSortSize;\n                var i, numberFragment, convertedNumber;\n\n                for (i = 0; i < loopLen; i++) {\n                    numberFragment = element.slice(startPoint, endPoint);\n                    convertedNumber = +numberFragment;\n                    tempArray.push(convertedNumber);\n                    startPoint = startPoint + 2;\n                    endPoint = endPoint + 2;\n                }\n                sortsAsNumbers.push(tempArray);\n            }).value();\n\n            // continue if not pasted text -\n        } else {\n            sortsAsNumbers = _.cloneDeep(sortsTextFromDb);\n            console.log("the else path was taken");\n        }\n        QAV.setState("sortsAsNumbers", sortsAsNumbers);\n        var sortsToShiftPositive = _.cloneDeep(sortsAsNumbers);\n        // shift sorts to positive range\n        maxArrayValue = _.max(sortsToShiftPositive[0]);\n        _(sortsToShiftPositive).forEach(function (element) {\n            var j;\n            var loopLen = originalSortSize;\n\n            for (j = 0; j < loopLen; j++) {\n                element[j] = element[j] + maxArrayValue + 1;\n            }\n        }).value();\n        QAV.setState("positiveShiftedRawSorts", sortsToShiftPositive);\n        console.timeEnd("convertNumbers");\n        return sortsAsNumbers;\n    };\n\n\n    //*****************************************************************  model\n    //****  calculate PQMethod type correlations    **************************\n    //************************************************************************\n\n    CORR.getPqmethodCorrelation = function (x, y) {\n\n        /**\n         *  @fileoverview Pearson correlation score algorithm.\n         *  @author matt.west@kojilabs.com (Matt West)\n         *  @license Copyright 2013 Matt West.\n         *  Licensed under MIT (http://opensource.org/licenses/MIT).\n         */\n\n        var n = x.length;\n\n        if (n === 0) {\n            return 0;\n        }\n\n        var sum1 = 0;\n        for (var i = 0; i < n; i++) {\n            sum1 += x[i];\n        }\n\n        var sum2 = 0;\n        for (var j = 0; j < n; j++) {\n            sum2 += y[j];\n        }\n\n        var sum1Sq = 0;\n        for (var k = 0; k < n; k++) {\n            sum1Sq += Math.pow(x[k], 2);\n        }\n\n        var sum2Sq = 0;\n        for (var m = 0; m < n; m++) {\n            sum2Sq += Math.pow(y[m], 2);\n        }\n\n        var pSum = 0;\n        for (var p = 0; p < n; p++) {\n            pSum += x[p] * y[p];\n        }\n\n        var num = pSum - (sum1 * sum2 / n);\n        var den = Math.sqrt((sum1Sq - Math.pow(sum1, 2) / n) *\n            (sum2Sq - Math.pow(sum2, 2) / n));\n\n        if (den === 0) {\n            return 0;\n        }\n\n        var answer = num / den;\n\n        var answer1 = [evenRound((answer), 5), evenRound((answer * 100), 0)];\n\n        return answer1;\n\n    };\n\n    //*********************************************************************   model\n    //******* correlations calcs       ********************************************\n    //*****************************************************************************\n    CORR.calculateCorrelations = function (sortsAsNumbers, names) {\n\n        console.time("correlation calculations and table display ");\n\n        // todo - get a proper read of the length and add missing name error testing\n        var totalSorts = names.length;\n        var sortsAsNumbersCloned = _.cloneDeep(sortsAsNumbers);\n        var correlationTableArray = [];\n        var correlationTableArrayFormatted = [];\n\n        for (var m = 0; m < totalSorts; m++) {\n            correlationTableArray[m] = [];\n        }\n\n        for (var n = 0; n < totalSorts; n++) {\n            correlationTableArrayFormatted[n] = [];\n        }\n\n        for (var i = 0; i < totalSorts; i++) {\n            var pullX = sortsAsNumbersCloned[i];\n\n            var correlationValue = CORR.getPqmethodCorrelation(sortsAsNumbersCloned[i], sortsAsNumbersCloned[i]);\n\n\n            correlationTableArray[0][0] = correlationValue[0];\n            correlationTableArrayFormatted[0][0] = correlationValue[1];\n\n            for (var k = i; k < totalSorts; k++) {\n                var correlationValue2 = CORR.getPqmethodCorrelation(pullX, sortsAsNumbersCloned[k]);\n\n                correlationTableArray[i][k] = correlationValue2[0];\n                correlationTableArrayFormatted[i][k] = correlationValue2[1];\n\n                if (k === i) {} else {\n                    // var nextArray = k + 1;\n                    correlationTableArray[k][i] = correlationValue2[0];\n                    correlationTableArrayFormatted[k][i] = correlationValue2[1];\n                }\n            } // end of k loop\n        } //  end of i loop\n\n        for (var j = 0; j < totalSorts; j++) {\n            var pullName = names[j];\n            correlationTableArrayFormatted[j].unshift(pullName);\n        }\n        names.unshift("");\n        correlationTableArrayFormatted.unshift(names);\n\n        QAV.setState("correlationTableArrayFormatted", correlationTableArrayFormatted);\n        QAV.setState("respondentNames", names);\n        QAV.setState("originalCorrelationValues", correlationTableArray);\n\n        console.timeEnd("correlation calculations and table display ");\n\n        return correlationTableArrayFormatted;\n    };\n\n\n    //*********************************************************************   model\n    //******* create Correlation Table ********************************************\n    //*****************************************************************************\n\n    // example had node listed in parameters\n    function createDisplayTableJQUERY(dataSet) {\n\n        var headerText = dataSet[0];\n        dataSet.shift();\n\n        for (var j = 0, jLen = dataSet.length; j < jLen; j++) {\n            dataSet[j].unshift(j + 1);\n        }\n\n        var tempObj;\n        var headerArray = [];\n\n        for (var i = 0, iLen = headerText.length; i < iLen; i++) {\n            tempObj = {};\n            tempObj.title = headerText[i];\n            headerArray.push(tempObj);\n        }\n\n        var blank = headerArray.shift();\n        var respondent = {\n            "title": "Respon."\n        };\n\n        headerArray.unshift(respondent);\n        headerArray.unshift(blank);\n\n        var columnTargets = [];\n        for (var k = 2, kLen = headerText.length + 1; k < kLen; k++) {\n            columnTargets.push(k);\n        }\n\n        // todo - create clear-outs of analysis and results for change in factors extracted drop-down selection\n\n        $("#correlationTable2").DataTable({\n            "fixedColumns": {\n                leftColumns: 2\n            },\n            "retrieve": true,\n            "searching": false,\n            "ordering": true,\n            "info": false,\n            "destroy": true,\n            "scrollY": 800,\n            "scrollCollapse": true,\n            "scrollX": true,\n            "paging": false,\n            "data": dataSet,\n            "columns": headerArray,\n            "columnDefs": [{\n                targets: columnTargets,\n                className: \'dt-head-center dt-body-right\',\n            }, {\n                targets: [0, 1],\n                className: \'dt-body-center dt-body-name\'\n            }, {\n                targets: \'_all\',\n                "createdCell": function (td, cellData) { // , rowData, row, col\n                    if (cellData < 0) {\n                        $(td).css(\'color\', \'red\');\n                    }\n                }\n            }],\n        });\n\n        var table = $("#correlationTable2").DataTable();\n        $(\'#correlationTable2 tbody\')\n            .on(\'mouseenter\', \'td\', function () {\n                var colIdx = table.cell(this).index().column;\n                $(table.cells().nodes()).removeClass(\'highlight\');\n                $(table.column(colIdx).nodes()).addClass(\'highlight\');\n            })\n            .on(\'mouseleave\', function () {\n                $(table.cells().nodes()).removeClass(\'highlight\');\n                $(table.columns().nodes()).removeClass(\'highlight\');\n            });\n    }\n\n\n}(window.CORR = window.CORR || {}, QAV));//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9DT1JSLmpzPzkxY2IiXSwic291cmNlc0NvbnRlbnQiOlsiLy9LZW4tUSBBbmFseXNpc1xuLy9Db3B5cmlnaHQgKEMpIDIwMTYgU2hhd24gQmFuYXNpY2tcbi8vXG4vLyAgICBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuLy8gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbi8vICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4vLyAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG5cbi8vIEpTbGludCBkZWNsYXJhdGlvbnNcbi8qIGdsb2JhbCB3aW5kb3csICQsIF8sIHNldFRpbWVvdXQsIGV2ZW5Sb3VuZCwgQ0VOVFJPSUQsIFFBViwgVVRJTCwgcGVyZm9ybWFuY2UqL1xuXG4vLyBRQVYgaXMgdGhlIGdsb2JhbCBzdGF0ZSBkYXRhIHN0b3JlXG4oZnVuY3Rpb24gKENPUlIsIFFBViwgdW5kZWZpbmVkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgQ09SUi5jcmVhdGVDb3JyZWxhdGlvblRhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdDEsIHQwID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIHZhciBjcmVhdGVDb3JyZWxhdGlvblRhYmxlO1xuXG4gICAgICAgIHZhciBuYW1lc0Zyb21FeGlzdGluZ0RhdGEyID0gUUFWLmdldFN0YXRlKFwicWF2UmVzcG9uZGVudE5hbWVzXCIpO1xuXG4gICAgICAgIC8vIHRvIHByZXZlbnQgZXJyb3JzIGluIHpTY29yZXMgYW5kIGRhdGF0YWJsZSBlcnJvciB3aGVuIFwiLlwiIGluIG5hbWVcbiAgICAgICAgdmFyIG5hbWVzRnJvbUV4aXN0aW5nRGF0YSA9IFVUSUwuY2hlY2tVbmlxdWVOYW1lKG5hbWVzRnJvbUV4aXN0aW5nRGF0YTIpO1xuXG4gICAgICAgIFFBVi5zZXRTdGF0ZShcInFhdlJlc3BvbmRlbnROYW1lc1wiLCBuYW1lc0Zyb21FeGlzdGluZ0RhdGEpO1xuICAgICAgICBRQVYuc2V0U3RhdGUoXCJyZXNwb25kZW50TmFtZXNcIiwgbmFtZXNGcm9tRXhpc3RpbmdEYXRhKTtcbiAgICAgICAgUUFWLnNldFN0YXRlKFwicWF2VG90YWxOdW1iZXJTb3J0c1wiLCBuYW1lc0Zyb21FeGlzdGluZ0RhdGEubGVuZ3RoKTtcbiAgICAgICAgUUFWLnNldFN0YXRlKFwidG90YWxOdW1iZXJTb3J0c1wiLCBuYW1lc0Zyb21FeGlzdGluZ0RhdGEubGVuZ3RoKTtcblxuICAgICAgICAvLyBkYXRhYmFzZSBkYXRhIGFuYWx5c2lzXG4gICAgICAgIHZhciBvcmlnaW5hbFNvcnRTaXplMiA9IFFBVi5nZXRTdGF0ZShcInFhdk9yaWdpbmFsU29ydFNpemVcIik7XG4gICAgICAgIHZhciBzb3J0c0Zyb21FeGlzdGluZ0RhdGEgPSBRQVYuZ2V0U3RhdGUoXCJxYXZSZXNwb25kZW50U29ydHNGcm9tRGJTdG9yZWRcIik7XG5cbiAgICAgICAgdmFyIGlzT25saW5lID0gVVRJTC5jaGVja0lmT25saW5lKCk7XG5cbiAgICAgICAgaWYgKHdpbmRvdy5Xb3JrZXIgJiYgaXNPbmxpbmUpIHtcbiAgICAgICAgICAgICQoXCIjY29ycmVsYXRpb25TcGlubmVyVGV4dFwiKS5jc3MoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xuICAgICAgICAgICAgJChcIiNjb3JyZWxhdGlvblNwaW5uZXJEaXZcIikuYWRkQ2xhc3MoJ2NhbGNTcGlubmVyJyk7XG4gICAgICAgICAgICB2YXIgbXlXb3JrZXIgPSBuZXcgV29ya2VyKCd3cmtycy93b3JrZXJDb3JyLmpzJyk7XG4gICAgICAgICAgICB2YXIgd29ya2VyTWVzc2FnZUFycmF5ID0gW29yaWdpbmFsU29ydFNpemUyLCBzb3J0c0Zyb21FeGlzdGluZ0RhdGEsIG5hbWVzRnJvbUV4aXN0aW5nRGF0YV07XG4gICAgICAgICAgICBteVdvcmtlci5wb3N0TWVzc2FnZSh3b3JrZXJNZXNzYWdlQXJyYXkpO1xuICAgICAgICAgICAgbXlXb3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBRQVYuc2V0U3RhdGUoJ3NvcnRzQXNOdW1iZXJzJywgZS5kYXRhWzBdKTtcbiAgICAgICAgICAgICAgICBRQVYuc2V0U3RhdGUoJ3Bvc2l0aXZlU2hpZnRlZFJhd1NvcnRzJywgZS5kYXRhWzFdKTtcbiAgICAgICAgICAgICAgICBRQVYuc2V0U3RhdGUoJ2NvcnJlbGF0aW9uVGFibGVBcnJheUZvcm1hdHRlZCcsIGUuZGF0YVsyXSk7XG4gICAgICAgICAgICAgICAgUUFWLnNldFN0YXRlKCdyZXNwb25kZW50TmFtZXMnLCBlLmRhdGFbM10pO1xuICAgICAgICAgICAgICAgIFFBVi5zZXRTdGF0ZSgnb3JpZ2luYWxDb3JyZWxhdGlvblZhbHVlcycsIGUuZGF0YVs0XSk7XG5cbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgc3Bpbm5lciBhbmQgbWVzc2FnZVxuICAgICAgICAgICAgICAgICQoXCIjY29ycmVsYXRpb25TcGlubmVyVGV4dFwiKS5jc3MoJ3Zpc2liaWxpdHknLCAnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgJChcIiNjb3JyZWxhdGlvblNwaW5uZXJEaXZcIikucmVtb3ZlQ2xhc3MoJ2NhbGNTcGlubmVyJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBkcmF3IHRoZSBkaXNwbGF5IHRhYmxlXG4gICAgICAgICAgICAgICAgY3JlYXRlRGlzcGxheVRhYmxlSlFVRVJZKGUuZGF0YVsyXSwgJ2NvcnJlbGF0aW9uVGFibGUnKTtcblxuICAgICAgICAgICAgICAgIHQxID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJyVjIENvcnJlbGF0aW9uIFRhYmxlIGNvbXBsZXRlZCBpbiAnICsgKHQxIC0gdDApLnRvRml4ZWQoMCkgKyAnIG1pbGxpc2Vjb25kcycsICdiYWNrZ3JvdW5kOiBibGFjazsgY29sb3I6IHdoaXRlJyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBpZiAobmFtZXNGcm9tRXhpc3RpbmdEYXRhLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgICAgICQoXCIjY29ycmVsYXRpb25zU3Bpbm5lclwiKS5hcHBlbmQoJzxwIGlkPVwic3Bpbm5lclRleHRcIj4mbmJzcCZuYnNwIENhbGN1bGF0aW5nLCA8aT5wbGVhc2Ugd2FpdDwvaT4mbmJzcCZuYnNwPC9wPicpLmZhZGVJbigzMDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkKFwiI2NhbGN1bGF0aW5nQ29ycmVsYXRpb25zTW9kYWxcIikudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICAvLyBzZXRUaW1lb3V0IHRvIGZvcmNlIGRpc3BsYXkgb2Ygc3Bpbm5lclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IHNvcnRzIHRvIGFycmF5c1xuICAgICAgICAgICAgICAgIHZhciBzb3J0c0FzTnVtYmVyczIgPSBDT1JSLmNvbnZlcnRTb3J0c1RleHRUb051bWJlcnMoc29ydHNGcm9tRXhpc3RpbmdEYXRhLCBvcmlnaW5hbFNvcnRTaXplMik7XG5cbiAgICAgICAgICAgICAgICAvLyBkbyB0aGUgY2FsY3VhdGlvbnNcbiAgICAgICAgICAgICAgICBjcmVhdGVDb3JyZWxhdGlvblRhYmxlID0gQ09SUi5jYWxjdWxhdGVDb3JyZWxhdGlvbnMoc29ydHNBc051bWJlcnMyLCBuYW1lc0Zyb21FeGlzdGluZ0RhdGEpO1xuXG4gICAgICAgICAgICAgICAgJChcIiNjb3JyZWxhdGlvbnNTcGlubmVyXCIpLmNoaWxkcmVuKFwicFwiKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgIC8vIGRyYXcgdGhlIGRpc3BsYXkgdGFibGVcbiAgICAgICAgICAgICAgICBjcmVhdGVEaXNwbGF5VGFibGVKUVVFUlkoY3JlYXRlQ29ycmVsYXRpb25UYWJsZSwgJ2NvcnJlbGF0aW9uVGFibGUnKTtcblxuICAgICAgICAgICAgICAgIHQxID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJyVjIENvcnJlbGF0aW9uIFRhYmxlIGNvbXBsZXRlZCBpbiAnICsgKHQxIC0gdDApLnRvRml4ZWQoMCkgKyAnIG1pbGxpc2Vjb25kcycsICdiYWNrZ3JvdW5kOiBibGFjazsgY29sb3I6IHdoaXRlJyk7XG5cbiAgICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgfVxuICAgIH07XG5cblxuICAgIC8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogIG1vZGVsXG4gICAgLy8gKioqKioqKioqKioqIGNvbnZlcnQgc29ydHMgYW5kIHNoaWZ0IHRvIHBvc2l0aXZlIHZhbHVlcyAqKioqKioqKioqKioqKioqKioqKioqXG4gICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgKi9cbiAgICBDT1JSLmNvbnZlcnRTb3J0c1RleHRUb051bWJlcnMgPSBmdW5jdGlvbiAoc29ydHNUZXh0RnJvbURiLCBvcmlnaW5hbFNvcnRTaXplKSB7XG4gICAgICAgIGNvbnNvbGUudGltZShcImNvbnZlcnROdW1iZXJzXCIpO1xuICAgICAgICB2YXIgc29ydHNBc051bWJlcnMgPSBbXTtcbiAgICAgICAgdmFyIG1heEFycmF5VmFsdWU7XG5cbiAgICAgICAgLy8gc2tpcCBjb252ZXJzaW9uIGlmIGRhdGEgY29taW5nIGZyb20gc29tZXdoZXJlIG90aGVyIHRoYW4gcGFzdGVkIGRhdGFcbiAgICAgICAgaWYgKF8uaXNBcnJheShzb3J0c1RleHRGcm9tRGJbMF0pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgXyhzb3J0c1RleHRGcm9tRGIpLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQsIGopIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRQb2ludCA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIGVuZFBvaW50ID0gMjtcbiAgICAgICAgICAgICAgICB2YXIgdGVtcEFycmF5ID0gW107XG4gICAgICAgICAgICAgICAgdmFyIGxvb3BMZW4gPSBvcmlnaW5hbFNvcnRTaXplO1xuICAgICAgICAgICAgICAgIHZhciBpLCBudW1iZXJGcmFnbWVudCwgY29udmVydGVkTnVtYmVyO1xuXG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxvb3BMZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBudW1iZXJGcmFnbWVudCA9IGVsZW1lbnQuc2xpY2Uoc3RhcnRQb2ludCwgZW5kUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICBjb252ZXJ0ZWROdW1iZXIgPSArbnVtYmVyRnJhZ21lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBBcnJheS5wdXNoKGNvbnZlcnRlZE51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0UG9pbnQgPSBzdGFydFBvaW50ICsgMjtcbiAgICAgICAgICAgICAgICAgICAgZW5kUG9pbnQgPSBlbmRQb2ludCArIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNvcnRzQXNOdW1iZXJzLnB1c2godGVtcEFycmF5KTtcbiAgICAgICAgICAgIH0pLnZhbHVlKCk7XG5cbiAgICAgICAgICAgIC8vIGNvbnRpbnVlIGlmIG5vdCBwYXN0ZWQgdGV4dCAtXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzb3J0c0FzTnVtYmVycyA9IF8uY2xvbmVEZWVwKHNvcnRzVGV4dEZyb21EYik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInRoZSBlbHNlIHBhdGggd2FzIHRha2VuXCIpO1xuICAgICAgICB9XG4gICAgICAgIFFBVi5zZXRTdGF0ZShcInNvcnRzQXNOdW1iZXJzXCIsIHNvcnRzQXNOdW1iZXJzKTtcbiAgICAgICAgdmFyIHNvcnRzVG9TaGlmdFBvc2l0aXZlID0gXy5jbG9uZURlZXAoc29ydHNBc051bWJlcnMpO1xuICAgICAgICAvLyBzaGlmdCBzb3J0cyB0byBwb3NpdGl2ZSByYW5nZVxuICAgICAgICBtYXhBcnJheVZhbHVlID0gXy5tYXgoc29ydHNUb1NoaWZ0UG9zaXRpdmVbMF0pO1xuICAgICAgICBfKHNvcnRzVG9TaGlmdFBvc2l0aXZlKS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgajtcbiAgICAgICAgICAgIHZhciBsb29wTGVuID0gb3JpZ2luYWxTb3J0U2l6ZTtcblxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGxvb3BMZW47IGorKykge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRbal0gPSBlbGVtZW50W2pdICsgbWF4QXJyYXlWYWx1ZSArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLnZhbHVlKCk7XG4gICAgICAgIFFBVi5zZXRTdGF0ZShcInBvc2l0aXZlU2hpZnRlZFJhd1NvcnRzXCIsIHNvcnRzVG9TaGlmdFBvc2l0aXZlKTtcbiAgICAgICAgY29uc29sZS50aW1lRW5kKFwiY29udmVydE51bWJlcnNcIik7XG4gICAgICAgIHJldHVybiBzb3J0c0FzTnVtYmVycztcbiAgICB9O1xuXG5cbiAgICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICBtb2RlbFxuICAgIC8vKioqKiAgY2FsY3VsYXRlIFBRTWV0aG9kIHR5cGUgY29ycmVsYXRpb25zICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICAgIENPUlIuZ2V0UHFtZXRob2RDb3JyZWxhdGlvbiA9IGZ1bmN0aW9uICh4LCB5KSB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqICBAZmlsZW92ZXJ2aWV3IFBlYXJzb24gY29ycmVsYXRpb24gc2NvcmUgYWxnb3JpdGhtLlxuICAgICAgICAgKiAgQGF1dGhvciBtYXR0Lndlc3RAa29qaWxhYnMuY29tIChNYXR0IFdlc3QpXG4gICAgICAgICAqICBAbGljZW5zZSBDb3B5cmlnaHQgMjAxMyBNYXR0IFdlc3QuXG4gICAgICAgICAqICBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQpLlxuICAgICAgICAgKi9cblxuICAgICAgICB2YXIgbiA9IHgubGVuZ3RoO1xuXG4gICAgICAgIGlmIChuID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdW0xID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHN1bTEgKz0geFtpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdW0yID0gMDtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuOyBqKyspIHtcbiAgICAgICAgICAgIHN1bTIgKz0geVtqXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdW0xU3EgPSAwO1xuICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IG47IGsrKykge1xuICAgICAgICAgICAgc3VtMVNxICs9IE1hdGgucG93KHhba10sIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN1bTJTcSA9IDA7XG4gICAgICAgIGZvciAodmFyIG0gPSAwOyBtIDwgbjsgbSsrKSB7XG4gICAgICAgICAgICBzdW0yU3EgKz0gTWF0aC5wb3coeVttXSwgMik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcFN1bSA9IDA7XG4gICAgICAgIGZvciAodmFyIHAgPSAwOyBwIDwgbjsgcCsrKSB7XG4gICAgICAgICAgICBwU3VtICs9IHhbcF0gKiB5W3BdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG51bSA9IHBTdW0gLSAoc3VtMSAqIHN1bTIgLyBuKTtcbiAgICAgICAgdmFyIGRlbiA9IE1hdGguc3FydCgoc3VtMVNxIC0gTWF0aC5wb3coc3VtMSwgMikgLyBuKSAqXG4gICAgICAgICAgICAoc3VtMlNxIC0gTWF0aC5wb3coc3VtMiwgMikgLyBuKSk7XG5cbiAgICAgICAgaWYgKGRlbiA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYW5zd2VyID0gbnVtIC8gZGVuO1xuXG4gICAgICAgIHZhciBhbnN3ZXIxID0gW2V2ZW5Sb3VuZCgoYW5zd2VyKSwgNSksIGV2ZW5Sb3VuZCgoYW5zd2VyICogMTAwKSwgMCldO1xuXG4gICAgICAgIHJldHVybiBhbnN3ZXIxO1xuXG4gICAgfTtcblxuICAgIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICAgbW9kZWxcbiAgICAvLyoqKioqKiogY29ycmVsYXRpb25zIGNhbGNzICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIENPUlIuY2FsY3VsYXRlQ29ycmVsYXRpb25zID0gZnVuY3Rpb24gKHNvcnRzQXNOdW1iZXJzLCBuYW1lcykge1xuXG4gICAgICAgIGNvbnNvbGUudGltZShcImNvcnJlbGF0aW9uIGNhbGN1bGF0aW9ucyBhbmQgdGFibGUgZGlzcGxheSBcIik7XG5cbiAgICAgICAgLy8gdG9kbyAtIGdldCBhIHByb3BlciByZWFkIG9mIHRoZSBsZW5ndGggYW5kIGFkZCBtaXNzaW5nIG5hbWUgZXJyb3IgdGVzdGluZ1xuICAgICAgICB2YXIgdG90YWxTb3J0cyA9IG5hbWVzLmxlbmd0aDtcbiAgICAgICAgdmFyIHNvcnRzQXNOdW1iZXJzQ2xvbmVkID0gXy5jbG9uZURlZXAoc29ydHNBc051bWJlcnMpO1xuICAgICAgICB2YXIgY29ycmVsYXRpb25UYWJsZUFycmF5ID0gW107XG4gICAgICAgIHZhciBjb3JyZWxhdGlvblRhYmxlQXJyYXlGb3JtYXR0ZWQgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBtID0gMDsgbSA8IHRvdGFsU29ydHM7IG0rKykge1xuICAgICAgICAgICAgY29ycmVsYXRpb25UYWJsZUFycmF5W21dID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHRvdGFsU29ydHM7IG4rKykge1xuICAgICAgICAgICAgY29ycmVsYXRpb25UYWJsZUFycmF5Rm9ybWF0dGVkW25dID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsU29ydHM7IGkrKykge1xuICAgICAgICAgICAgdmFyIHB1bGxYID0gc29ydHNBc051bWJlcnNDbG9uZWRbaV07XG5cbiAgICAgICAgICAgIHZhciBjb3JyZWxhdGlvblZhbHVlID0gQ09SUi5nZXRQcW1ldGhvZENvcnJlbGF0aW9uKHNvcnRzQXNOdW1iZXJzQ2xvbmVkW2ldLCBzb3J0c0FzTnVtYmVyc0Nsb25lZFtpXSk7XG5cblxuICAgICAgICAgICAgY29ycmVsYXRpb25UYWJsZUFycmF5WzBdWzBdID0gY29ycmVsYXRpb25WYWx1ZVswXTtcbiAgICAgICAgICAgIGNvcnJlbGF0aW9uVGFibGVBcnJheUZvcm1hdHRlZFswXVswXSA9IGNvcnJlbGF0aW9uVmFsdWVbMV07XG5cbiAgICAgICAgICAgIGZvciAodmFyIGsgPSBpOyBrIDwgdG90YWxTb3J0czsgaysrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvcnJlbGF0aW9uVmFsdWUyID0gQ09SUi5nZXRQcW1ldGhvZENvcnJlbGF0aW9uKHB1bGxYLCBzb3J0c0FzTnVtYmVyc0Nsb25lZFtrXSk7XG5cbiAgICAgICAgICAgICAgICBjb3JyZWxhdGlvblRhYmxlQXJyYXlbaV1ba10gPSBjb3JyZWxhdGlvblZhbHVlMlswXTtcbiAgICAgICAgICAgICAgICBjb3JyZWxhdGlvblRhYmxlQXJyYXlGb3JtYXR0ZWRbaV1ba10gPSBjb3JyZWxhdGlvblZhbHVlMlsxXTtcblxuICAgICAgICAgICAgICAgIGlmIChrID09PSBpKSB7fSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIG5leHRBcnJheSA9IGsgKyAxO1xuICAgICAgICAgICAgICAgICAgICBjb3JyZWxhdGlvblRhYmxlQXJyYXlba11baV0gPSBjb3JyZWxhdGlvblZhbHVlMlswXTtcbiAgICAgICAgICAgICAgICAgICAgY29ycmVsYXRpb25UYWJsZUFycmF5Rm9ybWF0dGVkW2tdW2ldID0gY29ycmVsYXRpb25WYWx1ZTJbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAvLyBlbmQgb2YgayBsb29wXG4gICAgICAgIH0gLy8gIGVuZCBvZiBpIGxvb3BcblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRvdGFsU29ydHM7IGorKykge1xuICAgICAgICAgICAgdmFyIHB1bGxOYW1lID0gbmFtZXNbal07XG4gICAgICAgICAgICBjb3JyZWxhdGlvblRhYmxlQXJyYXlGb3JtYXR0ZWRbal0udW5zaGlmdChwdWxsTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgbmFtZXMudW5zaGlmdChcIlwiKTtcbiAgICAgICAgY29ycmVsYXRpb25UYWJsZUFycmF5Rm9ybWF0dGVkLnVuc2hpZnQobmFtZXMpO1xuXG4gICAgICAgIFFBVi5zZXRTdGF0ZShcImNvcnJlbGF0aW9uVGFibGVBcnJheUZvcm1hdHRlZFwiLCBjb3JyZWxhdGlvblRhYmxlQXJyYXlGb3JtYXR0ZWQpO1xuICAgICAgICBRQVYuc2V0U3RhdGUoXCJyZXNwb25kZW50TmFtZXNcIiwgbmFtZXMpO1xuICAgICAgICBRQVYuc2V0U3RhdGUoXCJvcmlnaW5hbENvcnJlbGF0aW9uVmFsdWVzXCIsIGNvcnJlbGF0aW9uVGFibGVBcnJheSk7XG5cbiAgICAgICAgY29uc29sZS50aW1lRW5kKFwiY29ycmVsYXRpb24gY2FsY3VsYXRpb25zIGFuZCB0YWJsZSBkaXNwbGF5IFwiKTtcblxuICAgICAgICByZXR1cm4gY29ycmVsYXRpb25UYWJsZUFycmF5Rm9ybWF0dGVkO1xuICAgIH07XG5cblxuICAgIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICAgbW9kZWxcbiAgICAvLyoqKioqKiogY3JlYXRlIENvcnJlbGF0aW9uIFRhYmxlICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gICAgLy8gZXhhbXBsZSBoYWQgbm9kZSBsaXN0ZWQgaW4gcGFyYW1ldGVyc1xuICAgIGZ1bmN0aW9uIGNyZWF0ZURpc3BsYXlUYWJsZUpRVUVSWShkYXRhU2V0KSB7XG5cbiAgICAgICAgdmFyIGhlYWRlclRleHQgPSBkYXRhU2V0WzBdO1xuICAgICAgICBkYXRhU2V0LnNoaWZ0KCk7XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpMZW4gPSBkYXRhU2V0Lmxlbmd0aDsgaiA8IGpMZW47IGorKykge1xuICAgICAgICAgICAgZGF0YVNldFtqXS51bnNoaWZ0KGogKyAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0ZW1wT2JqO1xuICAgICAgICB2YXIgaGVhZGVyQXJyYXkgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaUxlbiA9IGhlYWRlclRleHQubGVuZ3RoOyBpIDwgaUxlbjsgaSsrKSB7XG4gICAgICAgICAgICB0ZW1wT2JqID0ge307XG4gICAgICAgICAgICB0ZW1wT2JqLnRpdGxlID0gaGVhZGVyVGV4dFtpXTtcbiAgICAgICAgICAgIGhlYWRlckFycmF5LnB1c2godGVtcE9iaik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmxhbmsgPSBoZWFkZXJBcnJheS5zaGlmdCgpO1xuICAgICAgICB2YXIgcmVzcG9uZGVudCA9IHtcbiAgICAgICAgICAgIFwidGl0bGVcIjogXCJSZXNwb24uXCJcbiAgICAgICAgfTtcblxuICAgICAgICBoZWFkZXJBcnJheS51bnNoaWZ0KHJlc3BvbmRlbnQpO1xuICAgICAgICBoZWFkZXJBcnJheS51bnNoaWZ0KGJsYW5rKTtcblxuICAgICAgICB2YXIgY29sdW1uVGFyZ2V0cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBrID0gMiwga0xlbiA9IGhlYWRlclRleHQubGVuZ3RoICsgMTsgayA8IGtMZW47IGsrKykge1xuICAgICAgICAgICAgY29sdW1uVGFyZ2V0cy5wdXNoKGspO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG9kbyAtIGNyZWF0ZSBjbGVhci1vdXRzIG9mIGFuYWx5c2lzIGFuZCByZXN1bHRzIGZvciBjaGFuZ2UgaW4gZmFjdG9ycyBleHRyYWN0ZWQgZHJvcC1kb3duIHNlbGVjdGlvblxuXG4gICAgICAgICQoXCIjY29ycmVsYXRpb25UYWJsZTJcIikuRGF0YVRhYmxlKHtcbiAgICAgICAgICAgIFwiZml4ZWRDb2x1bW5zXCI6IHtcbiAgICAgICAgICAgICAgICBsZWZ0Q29sdW1uczogMlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwicmV0cmlldmVcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwic2VhcmNoaW5nXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJvcmRlcmluZ1wiOiB0cnVlLFxuICAgICAgICAgICAgXCJpbmZvXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJkZXN0cm95XCI6IHRydWUsXG4gICAgICAgICAgICBcInNjcm9sbFlcIjogODAwLFxuICAgICAgICAgICAgXCJzY3JvbGxDb2xsYXBzZVwiOiB0cnVlLFxuICAgICAgICAgICAgXCJzY3JvbGxYXCI6IHRydWUsXG4gICAgICAgICAgICBcInBhZ2luZ1wiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiZGF0YVwiOiBkYXRhU2V0LFxuICAgICAgICAgICAgXCJjb2x1bW5zXCI6IGhlYWRlckFycmF5LFxuICAgICAgICAgICAgXCJjb2x1bW5EZWZzXCI6IFt7XG4gICAgICAgICAgICAgICAgdGFyZ2V0czogY29sdW1uVGFyZ2V0cyxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdkdC1oZWFkLWNlbnRlciBkdC1ib2R5LXJpZ2h0JyxcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRzOiBbMCwgMV0sXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnZHQtYm9keS1jZW50ZXIgZHQtYm9keS1uYW1lJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRhcmdldHM6ICdfYWxsJyxcbiAgICAgICAgICAgICAgICBcImNyZWF0ZWRDZWxsXCI6IGZ1bmN0aW9uICh0ZCwgY2VsbERhdGEpIHsgLy8gLCByb3dEYXRhLCByb3csIGNvbFxuICAgICAgICAgICAgICAgICAgICBpZiAoY2VsbERhdGEgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRkKS5jc3MoJ2NvbG9yJywgJ3JlZCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciB0YWJsZSA9ICQoXCIjY29ycmVsYXRpb25UYWJsZTJcIikuRGF0YVRhYmxlKCk7XG4gICAgICAgICQoJyNjb3JyZWxhdGlvblRhYmxlMiB0Ym9keScpXG4gICAgICAgICAgICAub24oJ21vdXNlZW50ZXInLCAndGQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbElkeCA9IHRhYmxlLmNlbGwodGhpcykuaW5kZXgoKS5jb2x1bW47XG4gICAgICAgICAgICAgICAgJCh0YWJsZS5jZWxscygpLm5vZGVzKCkpLnJlbW92ZUNsYXNzKCdoaWdobGlnaHQnKTtcbiAgICAgICAgICAgICAgICAkKHRhYmxlLmNvbHVtbihjb2xJZHgpLm5vZGVzKCkpLmFkZENsYXNzKCdoaWdobGlnaHQnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJCh0YWJsZS5jZWxscygpLm5vZGVzKCkpLnJlbW92ZUNsYXNzKCdoaWdobGlnaHQnKTtcbiAgICAgICAgICAgICAgICAkKHRhYmxlLmNvbHVtbnMoKS5ub2RlcygpKS5yZW1vdmVDbGFzcygnaGlnaGxpZ2h0Jyk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cblxufSh3aW5kb3cuQ09SUiA9IHdpbmRvdy5DT1JSIHx8IHt9LCBRQVYpKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9DT1JSLmpzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMTUiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9')}});