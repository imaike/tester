!function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=14)}({14:function(e,t){function r(e,t){var r=t||0,n=Math.pow(10,r),a=+(r?e*n:e).toFixed(8),o=Math.floor(a),i=a-o,l=i>.5-1e-8&&i<.5+1e-8?o%2==0?o:o+1:Math.round(a);return r?l/n:l}!function(e,t,n){"use strict";function a(e,t,r,n,a){var o="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e))),i=document.createElement("canvas"),l=i.getContext("2d");i.width=t,i.height=r;var c=new Image;c.onload=function(){l.clearRect(0,0,t,r),l.drawImage(c,0,0,t,r),i.toBlob(function(e){var t=Math.round(e.length/1024)+" KB";a&&a(e,t)})},c.src=o}e.checkIfOnline=function(){return"file:"!==window.location.protocol},e.standardDeviation=function(t){var n=e.average(t),a=t.map(function(e){var t=e-n;return t*t}),o=a.reduce(function(e,t){return e+t},0),i=r(o/(a.length-1),8);return r(Math.sqrt(i),8)},e.variance=function(e){for(var t=0,n=0,a=0;a<e.length;a++)if(""===e[a]);else{if(isNaN(e[a]))return 0;t+=1,n+=parseFloat(e[a])}var o=0;if(t>1){var i=n/t;for(a=0;a<e.length;a++)""===e[a]||(o+=(e[a]-i)*(e[a]-i));return r(o/t,6)}return 0},e.average=function(e){return r(e.reduce(function(e,t){return e+t},0)/e.length,8)},e.drawDatatable=function(e){$(e.domElement).DataTable({fixedColumns:e.fixed,retrieve:!0,searching:!1,ordering:e.ordering,info:!1,destroy:!0,scrollY:800,scrollCollapse:!0,scrollX:!0,paging:!1,data:e.data,columns:e.headers,columnDefs:e.colDefs});var t=$(e.domElement).DataTable();$(e.domElement+" tbody").on("mouseenter","td",function(){var e=t.cell(this).index().column;$(t.cells().nodes()).removeClass("highlight"),$(t.column(e).nodes()).addClass("highlight")}).on("mouseleave",function(){$(t.cells().nodes()).removeClass("highlight"),$(t.columns().nodes()).removeClass("highlight")})},e.addFactorSelectCheckboxesRotation=function(e){var r=$("#checkboxFrame");r.length>0&&r.empty();for(var n=t.getState("language"),a=resources[n].translation.Factor,o=0;o<e;o++){var i=o+1,l=document.createElement("input");l.type="checkbox",l.name="radioCheck",l.value=i,l.className="checkbox",l.id="checkChart"+i;var c=document.createElement("label");c.htmlFor="checkChart"+i,c.className="checkboxLabel",c.appendChild(document.createTextNode(a+" "+i)),document.getElementById("checkboxFrame").appendChild(l),document.getElementById("checkboxFrame").appendChild(c)}},e.checkUniqueName=function(e){var t=_.cloneDeep(e),r=_.uniq(t);if(e.length!==r.length)for(var n=0;n<e.length;n++){var a=n+1,o=e[n],i=o.replace(/\./g,"");e[n]=a+"_"+i}else for(var l=0;l<e.length;l++)e[l]=e[l].replace(/\./g," ");return e},e.calculateSortTriangleShape=function(e){for(var r=[-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13],n=[],a=0;a<r.length;a++)for(var o=0;o<e[a];o++)n.push(r[a]);return t.setState("qavSortTriangleShape",n),n},e.sanitizeUserInputText=function(e){if(_.isNumber(e))return e;var r=e.replace(/<script[^>]*?>.*?<\/<\/script>/gi,"").replace(/<[\/\!]*?[^<>]*?>/gi,"").replace(/<style[^>]*?>.*?<\/style>/gi,"").replace(/<![\s\S]*?--[ \t\n\r]*>/gi,"");return t.setState("output",r),r},e.threeDigitPadding=function(e){return e<0?" "+e:e<10?"  "+e:e>99?e:" "+e},e.currentDate1=function(){var e=new Date,t=e.getDate();t<10&&(t="0"+t);var r=e.getMonth()+1;return r<10&&(r="0"+r),e.getFullYear()+"-"+r+"-"+t},e.currentTime1=function(){var e=new Date,t=e.getMinutes();t<10&&(t="0"+t);var r=e.getHours();return r<10&&(r="0"+r),String(r)+"-"+String(t)},e.checkIfValueIsNumber=function(e,t){isNaN(e)?$("#"+t).css("border","red solid 3px"):$("#"+t).css("border","lightgray solid 1px")},e.archiveFactorScoreStateMatrixAndDatatable=function(){var e=$("#factorRotationTable2").dataTable(),r=e.fnGetData(),n=t.getState("expVar"),a=t.getState("rotFacStateArray"),o=t.getState("columnHeadersArray"),i=[];i.push(a,r,o,n),t.setState("rotFacStateArrayArchive"+ROTA.saveRotationArchiveCounter("get"),i),ROTA.saveRotationArchiveCounter("increase")},e.exportToCsv=function(e,t){for(var r="",n=0;n<t.length;n++)r+=function(e){for(var t="",r=0;r<e.length;r++){var n=e[r];null!==n&&void 0!==n||(n="");var a=n.toString(),o=a.replace(/"/g,'""');o.search(/("|,|\n)/g)>=0&&(o='"'+o+'"'),r>0&&(t+=","),t+=o}return t+"\n"}(t[n]);var a=new Blob([r],{type:"text/CSV;charset=UTF-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(a,e);else{var o=document.createElement("a");if(void 0!==o.download){var i=URL.createObjectURL(a);o.setAttribute("href",i),o.setAttribute("download",e),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}}},e.drawScreePlot=function(e){var r,n,a,o,i,l,c,s,u;for(s=_.max(e),s<10&&s>5?s=10:s<5&&(s=5),u=e.length,u<5&&(u=5),n=[],r=0;r<e.length;r++)c={},c.eigen=e[r],c.factor=r+1,n.push(c);a=$(window).width()/1.25,o={top:150,right:10,bottom:40,left:100},i=a-o.left-o.right,i>700&&(i=700),l=i-o.bottom-80;var d=t.getState("language"),f=resources[d].translation["Scree Plot"],g=resources[d].translation["Factor Number"],h=resources[d].translation.Eigenvalues,p=d3.scale.linear().range([0,i]),v=d3.scale.linear().range([l,0]),m=d3.svg.axis().scale(p).tickSubdivide(!1).orient("bottom").ticks(8),x=d3.svg.axis().scale(v).tickSubdivide(!0).orient("left").ticks(s),y=d3.svg.line().x(function(e){return p(e.factor)}).y(function(e){return v(e.eigen)}),b=d3.select("#screePlotDiv").append("svg").attr("id","screePlotSVG").attr("width",i+o.left+o.right).attr("height",l+20+o.top+o.bottom).append("g").attr("transform","translate("+o.left+","+o.top+")");p.domain([0,8]),v.domain([0,d3.max(n,function(e){return e.eigen<10?s:e.eigen})]),b.append("text").attr("x",i/2).attr("y",l+45).style("text-anchor","middle").style("font-weight","bold").style("margin-top","10px").style("font-size","14px").style("font-family","Arial").text(g),b.append("text").attr("transform","rotate(-90)").attr("y",0-o.left/2).attr("x",0-l/2).attr("dy","1em").style("text-anchor","middle").style("font-weight","bold").style("font-size","14px").style("font-family","Arial").text(h),b.append("text").attr("x",i/2).attr("y",0-o.top/8).attr("text-anchor","middle").style("font-size","30px").style("font-family","Arial").text(f),b.append("path").attr("class","line").attr("d",y(n)),b.append("g").attr("class","x axis").attr("transform","translate(0,"+l+")").call(m),b.append("g").attr("class","y axis").call(x),b.selectAll(".tick > text").style("font-family","Arial"),b.selectAll(".dot2").data(n).enter().append("circle").attr("class","dot2").attr("cx",function(e){return p(e.factor)}).attr("cy",function(e){return v(e.eigen)}).attr("r",3.5)},e.downloadPngImages=function(e,t,r){function n(e,t){saveAs(e,o)}console.log(r),a(e,2*(parseInt(t.style("width"),10)+2),2*parseInt(t.style("height"),10),"png",n);var o=r+".png"},e.getSVGString=function(e){e.setAttribute("xlink","http://www.w3.org/1999/xlink");var t=function(e){function t(e,t){return-1!==t.indexOf(e)}var r=[];r.push("#"+e.id);for(var n=0;n<e.classList.length;n++)t("."+e.classList[n],r)||r.push("."+e.classList[n]);for(var a=e.getElementsByTagName("*"),o=0;o<a.length;o++){var i=a[o].id;t("#"+i,r)||r.push("#"+i);for(var l=a[o].classList,n=0;n<l.length;n++)t("."+l[n],r)||r.push("."+l[n])}for(var c="",o=0;o<document.styleSheets.length;o++){var s=document.styleSheets[o];try{if(!s.cssRules)continue}catch(e){if("SecurityError"!==e.name)throw e;continue}for(var u=s.cssRules,d=0;d<u.length;d++)t(u[d].selectorText,r)&&(c+=u[d].cssText)}return c}(e);!function(e,t){var r=document.createElement("style");r.setAttribute("type","text/css"),r.innerHTML=e;var n=t.hasChildNodes()?t.children[0]:null;t.insertBefore(r,n)}(t,e);var r=new XMLSerializer,n=r.serializeToString(e);return n=n.replace(/(\w+)?:?xlink=/g,"xmlns:xlink="),n=n.replace(/NS\d+:href/g,"xlink:href")}}(window.UTIL=window.UTIL||{},QAV)}});