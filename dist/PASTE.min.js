!function(t){function I(g){if(n[g])return n[g].exports;var e=n[g]={i:g,l:!1,exports:{}};return t[g].call(e.exports,e,e.exports,I),e.l=!0,e.exports}var n={};I.m=t,I.c=n,I.i=function(t){return t},I.d=function(t,n,g){I.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:g})},I.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return I.d(n,"a",n),n},I.o=function(t,I){return Object.prototype.hasOwnProperty.call(t,I)},I.p="",I(I.s=9)}({9:function(module,exports){eval('//Ken-Q Analysis\n//Copyright (C) 2016 Shawn Banasick\n//\n//    This program is free software: you can redistribute it and/or modify\n//    it under the terms of the GNU General Public License as published by\n//    the Free Software Foundation, either version 3 of the License, or\n//    (at your option) any later version.\n\n\n// JSlint declarations\n/* global numeric, CENTROID, window, QAV, $, document, JQuery, evenRound, UTIL, localStorage, _ */\n\n(function (PASTE, QAV, undefined) {\n    \'use strict\';\n\n    PASTE.stageDataPqmethod = function () {\n        var statements, sortStatement, statementInput;\n\n        // get statements as array and store\n        statements = PASTE.pullStatementsIntoAnalysis("statementsInputBoxPqmethod");\n        QAV.setState("qavCurrentStatements", statements);\n\n        for (var i = 0; i < statements.length; i++) {\n            sortStatement = statements[i];\n            $("#existingDatabaseStatementList").append("<li>" + sortStatement + "</li>");\n        }\n\n        // split into lines\n        statementInput = document.getElementById("sortInputBox").value;\n\n        var settings = PASTE.processTextBoxData(statementInput);\n\n        // parsing first line of PQMethod file to set qav variables\n        var numberSorts = settings[0];\n        var qavProjectName = settings[1];\n        var originalSortSize = settings[2];\n        var pyramidShapeNumbers = settings[3];\n        var array1 = settings[4];\n\n        QAV.setState("qavTotalNumberSorts", numberSorts);\n        QAV.setState("totalNumberSorts", numberSorts);\n        QAV.setState("qavProjectName", qavProjectName);\n        QAV.setState("qavTotalStatements", originalSortSize);\n        QAV.setState("qavOriginalSortSize", originalSortSize);\n        QAV.setState("originalSortSize", originalSortSize);\n\n        // // parsing and coercing second line of PQMethod file\n        // // warning -array temp1 has an extra "0" entry in position 0\n        QAV.setState("qavPyramidShape", pyramidShapeNumbers);\n\n        UTIL.calculateSortTriangleShape(pyramidShapeNumbers);\n\n        var namesAndSorts = PASTE.convertSortsTextToNamesAndSortNumbers(array1, originalSortSize);\n        var names = namesAndSorts[0];\n        var sorts = namesAndSorts[1];\n\n        // break text array into names text array and sorts text array\n        QAV.setState("qavRespondentSortsFromDbStored", sorts);\n\n        // to prevent errors in zScore calcs and issues with "." in datatables\n        var names2 = UTIL.checkUniqueName(names);\n\n        // set respondent names for later  todo - delete doubles\n        QAV.setState("qavRespondentNames", names2);\n        QAV.setState("respondentNames", names2);\n\n        // format pasted data\n        var sortsAsNumbers = CORR.convertSortsTextToNumbers(sorts, originalSortSize);\n\n        for (var j = 0; j < sortsAsNumbers.length; j++) {\n            var sortItem = sortsAsNumbers[j];\n            var respondent = names2[j];\n            $("#existingDatabaseRespondentList").append("<li>" + respondent + "&nbsp;&nbsp;&nbsp" + sortItem + "</li>");\n        }\n    };\n\n    PASTE.convertSortsTextToNamesAndSortNumbers = function (array1, originalSortSize) {\n        // break text array into names text array and sorts text array\n        var sortSize = ((originalSortSize * 2) + 10); // lipset 76\n        var names = [];\n        var sorts = [];\n        _(array1).forEach(function (element) {\n            if (element.length) {\n                var nameFragment = element.slice(0, 8);\n                names.push(nameFragment);\n                var sortFragment = element.slice(10, sortSize);\n                sorts.push(sortFragment);\n            }\n        }).value();\n        return [names, sorts];\n    };\n\n    PASTE.processTextBoxData = function (statementInput) {\n        var arr = statementInput.split(/\\r\\n|\\r|\\n/g);\n        var array1 = arr.slice(0, arr.length);\n        var projectTitleString = array1.shift();\n        var sortNumberString = array1.shift();\n\n        // parsing first line of PQMethod file to set qav variables\n        var numberSorts = parseInt(projectTitleString.slice(3, 6)); // lipset 9\n        var originalSortSize = parseInt(projectTitleString.slice(6, 9)); // lipset 33\n        var qavProjectName3 = (projectTitleString.slice(10, 70));\n        var qavProjectName2 = qavProjectName3.trim();\n        var qavProjectName = PASTE.sanitizeProjectName(qavProjectName2);\n\n        // parsing and coercing second line of PQMethod file\n        // warning -array temp1 has an extra "0" entry in position 0\n        var temp1b = sortNumberString.replace(/\\s\\s/g, \' \');\n        var temp1a = temp1b.split(" ");\n        var temp1 = temp1a.map(Number);\n        var pyramidShapeNumbers = temp1.slice(3, temp1.length);\n\n        return [numberSorts, qavProjectName, originalSortSize, pyramidShapeNumbers, array1];\n    };\n\n\n\n    /****************************************************************  view control\n     ********* Pull variables helper functions ************************************\n     ******************************************************************************/\n\n    PASTE.pullStatementsIntoAnalysis = function (statementTextareaId) {\n\n        var statementInput1 = document.getElementById(statementTextareaId).value;\n\n        var statementInput = statementInput1.trim();\n        var arr = statementInput.split(/\\r\\n|\\r|\\n/g);\n\n        var cleanStatements = [];\n\n        $.each(arr, function () {\n            var temp1 = UTIL.sanitizeUserInputText(this);\n            cleanStatements.push($.trim(temp1));\n        });\n        return cleanStatements;\n    };\n\n\n    // todo - check to see if this function is used anywhere\n    PASTE.pullProjectNameIntoAnalysis = function (projectNameInputId) {\n        var dataSetName = document.getElementById(projectNameInputId).value;\n        return dataSetName;\n    };\n\n    PASTE.sanitizeProjectName = function (qavProjectName2) {\n        if (qavProjectName2 === \'\') {\n            return \'_\';\n        }\n        return qavProjectName2.replace(/[^a-zA-Z0-9.-]/g, function () {\n            return \'_\'; // + match[0].charCodeAt(0).toString(16) + \'_\';\n        });\n    };\n\n    // *******************************************************************  model\n    // ***** Import Hand-Coded File *********************************************\n    // **************************************************************************\n    PASTE.filePickedTextPQM = function (e) {\n\n        var files = e.target.files[0];\n        var reader = new FileReader();\n        reader.onload = function (e) {\n            var data = e.target.result;\n            $("#sortInputBox").val(data);\n            localStorage.setItem("sortInputBox", data);\n\n        }; // end of reader function\n        reader.readAsText(files, "ASCII");\n    };\n\n    // ******************************************************************  model\n    // ***** Import User Statements File ***************************************\n    // *************************************************************************\n    PASTE.filePickedTextSTA = function (e) {\n        var files = e.target.files[0];\n        var reader = new FileReader();\n        reader.onload = function (e) {\n            var data = e.target.result;\n            $("#statementsInputBoxPqmethod").val(data);\n            localStorage.setItem("qavStatementsInputBoxPqmethod", data);\n        }; // end of reader function\n        reader.readAsText(files, "ASCII");\n    };\n\n\n    // persist statements in PQMethod paste input section\n    (function () {\n        var input = document.getElementById(\'statementsInputBoxPqmethod\');\n        //retrieve analysisVariable\n        input.value = localStorage.getItem("qavStatementsInputBoxPqmethod");\n\n        $(\'#statementsInputBoxPqmethod\').on(\'input propertychange change\', function () {\n            localStorage.setItem("qavStatementsInputBoxPqmethod", this.value);\n        });\n    })();\n\n\n\n\n}(window.PASTE = window.PASTE || {}, QAV));//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9QQVNURS5qcz8yYmEwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vS2VuLVEgQW5hbHlzaXNcbi8vQ29weXJpZ2h0IChDKSAyMDE2IFNoYXduIEJhbmFzaWNrXG4vL1xuLy8gICAgVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbi8vICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4vLyAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuLy8gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuXG4vLyBKU2xpbnQgZGVjbGFyYXRpb25zXG4vKiBnbG9iYWwgbnVtZXJpYywgQ0VOVFJPSUQsIHdpbmRvdywgUUFWLCAkLCBkb2N1bWVudCwgSlF1ZXJ5LCBldmVuUm91bmQsIFVUSUwsIGxvY2FsU3RvcmFnZSwgXyAqL1xuXG4oZnVuY3Rpb24gKFBBU1RFLCBRQVYsIHVuZGVmaW5lZCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIFBBU1RFLnN0YWdlRGF0YVBxbWV0aG9kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdGVtZW50cywgc29ydFN0YXRlbWVudCwgc3RhdGVtZW50SW5wdXQ7XG5cbiAgICAgICAgLy8gZ2V0IHN0YXRlbWVudHMgYXMgYXJyYXkgYW5kIHN0b3JlXG4gICAgICAgIHN0YXRlbWVudHMgPSBQQVNURS5wdWxsU3RhdGVtZW50c0ludG9BbmFseXNpcyhcInN0YXRlbWVudHNJbnB1dEJveFBxbWV0aG9kXCIpO1xuICAgICAgICBRQVYuc2V0U3RhdGUoXCJxYXZDdXJyZW50U3RhdGVtZW50c1wiLCBzdGF0ZW1lbnRzKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNvcnRTdGF0ZW1lbnQgPSBzdGF0ZW1lbnRzW2ldO1xuICAgICAgICAgICAgJChcIiNleGlzdGluZ0RhdGFiYXNlU3RhdGVtZW50TGlzdFwiKS5hcHBlbmQoXCI8bGk+XCIgKyBzb3J0U3RhdGVtZW50ICsgXCI8L2xpPlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNwbGl0IGludG8gbGluZXNcbiAgICAgICAgc3RhdGVtZW50SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvcnRJbnB1dEJveFwiKS52YWx1ZTtcblxuICAgICAgICB2YXIgc2V0dGluZ3MgPSBQQVNURS5wcm9jZXNzVGV4dEJveERhdGEoc3RhdGVtZW50SW5wdXQpO1xuXG4gICAgICAgIC8vIHBhcnNpbmcgZmlyc3QgbGluZSBvZiBQUU1ldGhvZCBmaWxlIHRvIHNldCBxYXYgdmFyaWFibGVzXG4gICAgICAgIHZhciBudW1iZXJTb3J0cyA9IHNldHRpbmdzWzBdO1xuICAgICAgICB2YXIgcWF2UHJvamVjdE5hbWUgPSBzZXR0aW5nc1sxXTtcbiAgICAgICAgdmFyIG9yaWdpbmFsU29ydFNpemUgPSBzZXR0aW5nc1syXTtcbiAgICAgICAgdmFyIHB5cmFtaWRTaGFwZU51bWJlcnMgPSBzZXR0aW5nc1szXTtcbiAgICAgICAgdmFyIGFycmF5MSA9IHNldHRpbmdzWzRdO1xuXG4gICAgICAgIFFBVi5zZXRTdGF0ZShcInFhdlRvdGFsTnVtYmVyU29ydHNcIiwgbnVtYmVyU29ydHMpO1xuICAgICAgICBRQVYuc2V0U3RhdGUoXCJ0b3RhbE51bWJlclNvcnRzXCIsIG51bWJlclNvcnRzKTtcbiAgICAgICAgUUFWLnNldFN0YXRlKFwicWF2UHJvamVjdE5hbWVcIiwgcWF2UHJvamVjdE5hbWUpO1xuICAgICAgICBRQVYuc2V0U3RhdGUoXCJxYXZUb3RhbFN0YXRlbWVudHNcIiwgb3JpZ2luYWxTb3J0U2l6ZSk7XG4gICAgICAgIFFBVi5zZXRTdGF0ZShcInFhdk9yaWdpbmFsU29ydFNpemVcIiwgb3JpZ2luYWxTb3J0U2l6ZSk7XG4gICAgICAgIFFBVi5zZXRTdGF0ZShcIm9yaWdpbmFsU29ydFNpemVcIiwgb3JpZ2luYWxTb3J0U2l6ZSk7XG5cbiAgICAgICAgLy8gLy8gcGFyc2luZyBhbmQgY29lcmNpbmcgc2Vjb25kIGxpbmUgb2YgUFFNZXRob2QgZmlsZVxuICAgICAgICAvLyAvLyB3YXJuaW5nIC1hcnJheSB0ZW1wMSBoYXMgYW4gZXh0cmEgXCIwXCIgZW50cnkgaW4gcG9zaXRpb24gMFxuICAgICAgICBRQVYuc2V0U3RhdGUoXCJxYXZQeXJhbWlkU2hhcGVcIiwgcHlyYW1pZFNoYXBlTnVtYmVycyk7XG5cbiAgICAgICAgVVRJTC5jYWxjdWxhdGVTb3J0VHJpYW5nbGVTaGFwZShweXJhbWlkU2hhcGVOdW1iZXJzKTtcblxuICAgICAgICB2YXIgbmFtZXNBbmRTb3J0cyA9IFBBU1RFLmNvbnZlcnRTb3J0c1RleHRUb05hbWVzQW5kU29ydE51bWJlcnMoYXJyYXkxLCBvcmlnaW5hbFNvcnRTaXplKTtcbiAgICAgICAgdmFyIG5hbWVzID0gbmFtZXNBbmRTb3J0c1swXTtcbiAgICAgICAgdmFyIHNvcnRzID0gbmFtZXNBbmRTb3J0c1sxXTtcblxuICAgICAgICAvLyBicmVhayB0ZXh0IGFycmF5IGludG8gbmFtZXMgdGV4dCBhcnJheSBhbmQgc29ydHMgdGV4dCBhcnJheVxuICAgICAgICBRQVYuc2V0U3RhdGUoXCJxYXZSZXNwb25kZW50U29ydHNGcm9tRGJTdG9yZWRcIiwgc29ydHMpO1xuXG4gICAgICAgIC8vIHRvIHByZXZlbnQgZXJyb3JzIGluIHpTY29yZSBjYWxjcyBhbmQgaXNzdWVzIHdpdGggXCIuXCIgaW4gZGF0YXRhYmxlc1xuICAgICAgICB2YXIgbmFtZXMyID0gVVRJTC5jaGVja1VuaXF1ZU5hbWUobmFtZXMpO1xuXG4gICAgICAgIC8vIHNldCByZXNwb25kZW50IG5hbWVzIGZvciBsYXRlciAgdG9kbyAtIGRlbGV0ZSBkb3VibGVzXG4gICAgICAgIFFBVi5zZXRTdGF0ZShcInFhdlJlc3BvbmRlbnROYW1lc1wiLCBuYW1lczIpO1xuICAgICAgICBRQVYuc2V0U3RhdGUoXCJyZXNwb25kZW50TmFtZXNcIiwgbmFtZXMyKTtcblxuICAgICAgICAvLyBmb3JtYXQgcGFzdGVkIGRhdGFcbiAgICAgICAgdmFyIHNvcnRzQXNOdW1iZXJzID0gQ09SUi5jb252ZXJ0U29ydHNUZXh0VG9OdW1iZXJzKHNvcnRzLCBvcmlnaW5hbFNvcnRTaXplKTtcblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHNvcnRzQXNOdW1iZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgc29ydEl0ZW0gPSBzb3J0c0FzTnVtYmVyc1tqXTtcbiAgICAgICAgICAgIHZhciByZXNwb25kZW50ID0gbmFtZXMyW2pdO1xuICAgICAgICAgICAgJChcIiNleGlzdGluZ0RhdGFiYXNlUmVzcG9uZGVudExpc3RcIikuYXBwZW5kKFwiPGxpPlwiICsgcmVzcG9uZGVudCArIFwiJm5ic3A7Jm5ic3A7Jm5ic3BcIiArIHNvcnRJdGVtICsgXCI8L2xpPlwiKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBQQVNURS5jb252ZXJ0U29ydHNUZXh0VG9OYW1lc0FuZFNvcnROdW1iZXJzID0gZnVuY3Rpb24gKGFycmF5MSwgb3JpZ2luYWxTb3J0U2l6ZSkge1xuICAgICAgICAvLyBicmVhayB0ZXh0IGFycmF5IGludG8gbmFtZXMgdGV4dCBhcnJheSBhbmQgc29ydHMgdGV4dCBhcnJheVxuICAgICAgICB2YXIgc29ydFNpemUgPSAoKG9yaWdpbmFsU29ydFNpemUgKiAyKSArIDEwKTsgLy8gbGlwc2V0IDc2XG4gICAgICAgIHZhciBuYW1lcyA9IFtdO1xuICAgICAgICB2YXIgc29ydHMgPSBbXTtcbiAgICAgICAgXyhhcnJheTEpLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBuYW1lRnJhZ21lbnQgPSBlbGVtZW50LnNsaWNlKDAsIDgpO1xuICAgICAgICAgICAgICAgIG5hbWVzLnB1c2gobmFtZUZyYWdtZW50KTtcbiAgICAgICAgICAgICAgICB2YXIgc29ydEZyYWdtZW50ID0gZWxlbWVudC5zbGljZSgxMCwgc29ydFNpemUpO1xuICAgICAgICAgICAgICAgIHNvcnRzLnB1c2goc29ydEZyYWdtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkudmFsdWUoKTtcbiAgICAgICAgcmV0dXJuIFtuYW1lcywgc29ydHNdO1xuICAgIH07XG5cbiAgICBQQVNURS5wcm9jZXNzVGV4dEJveERhdGEgPSBmdW5jdGlvbiAoc3RhdGVtZW50SW5wdXQpIHtcbiAgICAgICAgdmFyIGFyciA9IHN0YXRlbWVudElucHV0LnNwbGl0KC9cXHJcXG58XFxyfFxcbi9nKTtcbiAgICAgICAgdmFyIGFycmF5MSA9IGFyci5zbGljZSgwLCBhcnIubGVuZ3RoKTtcbiAgICAgICAgdmFyIHByb2plY3RUaXRsZVN0cmluZyA9IGFycmF5MS5zaGlmdCgpO1xuICAgICAgICB2YXIgc29ydE51bWJlclN0cmluZyA9IGFycmF5MS5zaGlmdCgpO1xuXG4gICAgICAgIC8vIHBhcnNpbmcgZmlyc3QgbGluZSBvZiBQUU1ldGhvZCBmaWxlIHRvIHNldCBxYXYgdmFyaWFibGVzXG4gICAgICAgIHZhciBudW1iZXJTb3J0cyA9IHBhcnNlSW50KHByb2plY3RUaXRsZVN0cmluZy5zbGljZSgzLCA2KSk7IC8vIGxpcHNldCA5XG4gICAgICAgIHZhciBvcmlnaW5hbFNvcnRTaXplID0gcGFyc2VJbnQocHJvamVjdFRpdGxlU3RyaW5nLnNsaWNlKDYsIDkpKTsgLy8gbGlwc2V0IDMzXG4gICAgICAgIHZhciBxYXZQcm9qZWN0TmFtZTMgPSAocHJvamVjdFRpdGxlU3RyaW5nLnNsaWNlKDEwLCA3MCkpO1xuICAgICAgICB2YXIgcWF2UHJvamVjdE5hbWUyID0gcWF2UHJvamVjdE5hbWUzLnRyaW0oKTtcbiAgICAgICAgdmFyIHFhdlByb2plY3ROYW1lID0gUEFTVEUuc2FuaXRpemVQcm9qZWN0TmFtZShxYXZQcm9qZWN0TmFtZTIpO1xuXG4gICAgICAgIC8vIHBhcnNpbmcgYW5kIGNvZXJjaW5nIHNlY29uZCBsaW5lIG9mIFBRTWV0aG9kIGZpbGVcbiAgICAgICAgLy8gd2FybmluZyAtYXJyYXkgdGVtcDEgaGFzIGFuIGV4dHJhIFwiMFwiIGVudHJ5IGluIHBvc2l0aW9uIDBcbiAgICAgICAgdmFyIHRlbXAxYiA9IHNvcnROdW1iZXJTdHJpbmcucmVwbGFjZSgvXFxzXFxzL2csICcgJyk7XG4gICAgICAgIHZhciB0ZW1wMWEgPSB0ZW1wMWIuc3BsaXQoXCIgXCIpO1xuICAgICAgICB2YXIgdGVtcDEgPSB0ZW1wMWEubWFwKE51bWJlcik7XG4gICAgICAgIHZhciBweXJhbWlkU2hhcGVOdW1iZXJzID0gdGVtcDEuc2xpY2UoMywgdGVtcDEubGVuZ3RoKTtcblxuICAgICAgICByZXR1cm4gW251bWJlclNvcnRzLCBxYXZQcm9qZWN0TmFtZSwgb3JpZ2luYWxTb3J0U2l6ZSwgcHlyYW1pZFNoYXBlTnVtYmVycywgYXJyYXkxXTtcbiAgICB9O1xuXG5cblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICB2aWV3IGNvbnRyb2xcbiAgICAgKioqKioqKioqIFB1bGwgdmFyaWFibGVzIGhlbHBlciBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgIFBBU1RFLnB1bGxTdGF0ZW1lbnRzSW50b0FuYWx5c2lzID0gZnVuY3Rpb24gKHN0YXRlbWVudFRleHRhcmVhSWQpIHtcblxuICAgICAgICB2YXIgc3RhdGVtZW50SW5wdXQxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3RhdGVtZW50VGV4dGFyZWFJZCkudmFsdWU7XG5cbiAgICAgICAgdmFyIHN0YXRlbWVudElucHV0ID0gc3RhdGVtZW50SW5wdXQxLnRyaW0oKTtcbiAgICAgICAgdmFyIGFyciA9IHN0YXRlbWVudElucHV0LnNwbGl0KC9cXHJcXG58XFxyfFxcbi9nKTtcblxuICAgICAgICB2YXIgY2xlYW5TdGF0ZW1lbnRzID0gW107XG5cbiAgICAgICAgJC5lYWNoKGFyciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRlbXAxID0gVVRJTC5zYW5pdGl6ZVVzZXJJbnB1dFRleHQodGhpcyk7XG4gICAgICAgICAgICBjbGVhblN0YXRlbWVudHMucHVzaCgkLnRyaW0odGVtcDEpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjbGVhblN0YXRlbWVudHM7XG4gICAgfTtcblxuXG4gICAgLy8gdG9kbyAtIGNoZWNrIHRvIHNlZSBpZiB0aGlzIGZ1bmN0aW9uIGlzIHVzZWQgYW55d2hlcmVcbiAgICBQQVNURS5wdWxsUHJvamVjdE5hbWVJbnRvQW5hbHlzaXMgPSBmdW5jdGlvbiAocHJvamVjdE5hbWVJbnB1dElkKSB7XG4gICAgICAgIHZhciBkYXRhU2V0TmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByb2plY3ROYW1lSW5wdXRJZCkudmFsdWU7XG4gICAgICAgIHJldHVybiBkYXRhU2V0TmFtZTtcbiAgICB9O1xuXG4gICAgUEFTVEUuc2FuaXRpemVQcm9qZWN0TmFtZSA9IGZ1bmN0aW9uIChxYXZQcm9qZWN0TmFtZTIpIHtcbiAgICAgICAgaWYgKHFhdlByb2plY3ROYW1lMiA9PT0gJycpIHtcbiAgICAgICAgICAgIHJldHVybiAnXyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHFhdlByb2plY3ROYW1lMi5yZXBsYWNlKC9bXmEtekEtWjAtOS4tXS9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gJ18nOyAvLyArIG1hdGNoWzBdLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpICsgJ18nO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAgbW9kZWxcbiAgICAvLyAqKioqKiBJbXBvcnQgSGFuZC1Db2RlZCBGaWxlICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgUEFTVEUuZmlsZVBpY2tlZFRleHRQUU0gPSBmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgIHZhciBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzWzBdO1xuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgICQoXCIjc29ydElucHV0Qm94XCIpLnZhbChkYXRhKTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic29ydElucHV0Qm94XCIsIGRhdGEpO1xuXG4gICAgICAgIH07IC8vIGVuZCBvZiByZWFkZXIgZnVuY3Rpb25cbiAgICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZXMsIFwiQVNDSUlcIik7XG4gICAgfTtcblxuICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAgbW9kZWxcbiAgICAvLyAqKioqKiBJbXBvcnQgVXNlciBTdGF0ZW1lbnRzIEZpbGUgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIFBBU1RFLmZpbGVQaWNrZWRUZXh0U1RBID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGZpbGVzID0gZS50YXJnZXQuZmlsZXNbMF07XG4gICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICAgICAgJChcIiNzdGF0ZW1lbnRzSW5wdXRCb3hQcW1ldGhvZFwiKS52YWwoZGF0YSk7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInFhdlN0YXRlbWVudHNJbnB1dEJveFBxbWV0aG9kXCIsIGRhdGEpO1xuICAgICAgICB9OyAvLyBlbmQgb2YgcmVhZGVyIGZ1bmN0aW9uXG4gICAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGVzLCBcIkFTQ0lJXCIpO1xuICAgIH07XG5cblxuICAgIC8vIHBlcnNpc3Qgc3RhdGVtZW50cyBpbiBQUU1ldGhvZCBwYXN0ZSBpbnB1dCBzZWN0aW9uXG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXRlbWVudHNJbnB1dEJveFBxbWV0aG9kJyk7XG4gICAgICAgIC8vcmV0cmlldmUgYW5hbHlzaXNWYXJpYWJsZVxuICAgICAgICBpbnB1dC52YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicWF2U3RhdGVtZW50c0lucHV0Qm94UHFtZXRob2RcIik7XG5cbiAgICAgICAgJCgnI3N0YXRlbWVudHNJbnB1dEJveFBxbWV0aG9kJykub24oJ2lucHV0IHByb3BlcnR5Y2hhbmdlIGNoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicWF2U3RhdGVtZW50c0lucHV0Qm94UHFtZXRob2RcIiwgdGhpcy52YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgIH0pKCk7XG5cblxuXG5cbn0od2luZG93LlBBU1RFID0gd2luZG93LlBBU1RFIHx8IHt9LCBRQVYpKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9QQVNURS5qc1xuLy8gbW9kdWxlIGlkID0gOVxuLy8gbW9kdWxlIGNodW5rcyA9IDgiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9')}});