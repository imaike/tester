!function(e){function t(r){if(a[r])return a[r].exports;var o=a[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var a={};t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,a,r){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}({7:function(e,t){!function(e,t,a){function r(){return{F1:"#f7fcf0",F2:"#e0f3db",F3:"#ccebc5",F4:"#a8ddb5",F5:"#7bccc4",F6:"#4eb3d3",F7:"#2b8cbe",F8:"#9cbbd7"}}function o(){return{F1:"#ffffff",F2:"#f0f0f0",F3:"#d9d9d9",F4:"#bdbdbd",F5:"#969696",F6:"#737373",F7:"#d9d9d9",F8:"whitesmoke"}}function c(t,a,c){for(var n=[],l=t.length,s=4;s<l;s+=2)n.push(s);for(var i=[],d=1;d<l;d+=2)i.push(d);var u=$("#factorRotationTable2").DataTable();u.destroy(),$("#factorRotationTable2").empty();e.createFooter("factorRotationTable2",c,"no");var h=o(),b=r(),p=$("#section6 input[name=state2]:checked").val(),f=+$("#section6 input[name=state1]:checked").val();u=$("#factorRotationTable2").DataTable({retrieve:!0,searching:!1,ordering:!0,info:!1,scrollCollapse:!0,scrollX:!0,paging:!1,order:[[f,"asc"]],data:a,columns:t,columnDefs:[{type:"highestFactor",targets:2},{targets:i,className:"dt-body-right",orderable:!0},{targets:[0],className:"dt-body-center dt-body-name",orderable:!0},{targets:n,searchable:!1,orderable:!0,className:"dt-body-right",render:function(e,t){return""===e?'<input type="checkbox" class="sigCheckbox" /><label></label>':'<input type="checkbox" class="sigCheckbox" id="d'+t+'" value="'+e+'" defaultChecked="'+("true"===e?"checked":"")+'"'+("true"===e?'checked="checked"':"")+" /><label></label>"}}],createdRow:function(e,t,a){var r;"gray"===p?(r=t[2].slice(0,2),$("td",e).css("background-color",h[r])):"colors"===p&&(r=t[2].slice(0,2),$("td",e).css("background-color",b[r]))}})}!function(){$.extend($.fn.dataTableExt.oSort,{"highestFactor-pre":function(e){var t=e.slice(0,2),a=e.slice(3,e.length);switch(t){case"F1":return parseInt(a);case"F2":return parseInt(a)+300;case"F3":return parseInt(a)+600;case"F4":return parseInt(a)+900;case"F5":return parseInt(a)+1200;case"F6":return parseInt(a)+1500;case"F7":return parseInt(a)+1800;default:return parseInt(a)+2100}},"highestFactor-asc":function(e,t){return e<t?-1:e>t?1:0},"highestFactor-desc":function(e,t){return e<t?1:e>t?-1:0}})}(),e.factorSplitFunction=function(e){UTIL.archiveFactorScoreStateMatrixAndDatatable();var a=+t.getState("hasSplitFactor")+1;t.setState("hasSplitFactor",a);var r=t.getState("factorLabels");localStorage.setItem("splitFactorHeadersArchive"+a,JSON.stringify(r));for(var o=[],n=t.getState("qavRespondentNames").length,l=$("#factorRotationTable2").DataTable(),s=t.getState("columnHeadersArray"),i=[],d=0;d<s.length;d++){var u=s[d].title;i.push(u)}for(var h="Ftr "+e,b=i.indexOf(h),p=0;p<n;p++){var f=l.row(p).data();o.push(f)}var g,v,F=t.getState("expVar"),y=o.length;for(v=0;v<y;v++){var m=o[v][b],S=o[v][b+1],T=-m;T<0&&(S="false"),o[v][b]<0&&(o[v][b+1]="false"),o[v].splice(b+2,0,T),o[v].splice(b+3,0,S)}F.splice(b+2,0,""),F.splice(b+3,0,""),t.setState("expVar",F);var k="Ftr "+e+"2",R=k.toString(),x="Ftr "+e+"1",A=x.toString(),C=[{title:R,class:"dt-head-center dt-body-right"},{title:"flag",class:"dt-head-center dt-body-center"}];s.splice(b+2,0,C[0]),s.splice(b+3,0,C[1]);var D=[{title:A,class:"dt-head-center dt-body-right"},{title:"flag",class:"dt-head-center dt-body-center"}];s[b]=D[0],s[b+1]=D[1],t.setState("factorLabels",s),t.factorLabels=s,t.setState("columnHeadersArray",s),c(s,o,F),VIEW.removeOutputFactorCheckboxes();var V=t.getState("language"),w=resources[V].translation.Factor,O=resources[V].translation["was split into Factor"],I=resources[V].translation["_1p and Factor"],L=resources[V].translation._2n,_=resources[V].translation.Undo;g=w+e+O+e+I+e+L,$("#rotationHistoryList").append("<li>"+g+'<button class="deleteSplitFactorButton">'+_+"</button></li>")},e.factorInvertFunction=function(a,r){var o;UTIL.archiveFactorScoreStateMatrixAndDatatable(),r=e.invertFactor(a,r),t.setState("rotFacStateArray",r),e.prepChartDataArray2(r);e.drawRotatedFactorsTable2("destroy","noFlag");var c=t.getState("language"),n=resources[c].translation.Factor,l=resources[c].translation["was inverted"],s=resources[c].translation.Undo;return o=n+" "+a+" "+l,$("#rotationHistoryList").append("<li>"+o+'<button class="deleteButton">'+s+"</button></li>"),ROTA.reInitializePlotAndChart(),r},e.invertFactor=function(e,t){for(var a=t.length,r=e-1,o=0;o<a;o++)t[o][r]=-t[o][r];return t},e.undoSplitFactorRotation=function(){var a=+t.getState("hasSplitFactor"),c=JSON.parse(localStorage.getItem("splitFactorHeadersArchive"+a));t.setState("factorLabels",c),t.factorLabels=c;var n=ROTA.saveRotationArchiveCounter("get");a-=1,t.setState("hasSplitFactor",a),n>1&&ROTA.saveRotationArchiveCounter("decrease");var l=n-1,s=o(),i=r(),d=$("#section6 input[name=state2]:checked").val(),u=+$("#section6 input[name=state1]:checked").val(),h=t.getState("rotFacStateArrayArchive"+l),b=_.cloneDeep(h[0]);t.setState("rotFacStateArray",b);var p=h[1],f=h[3];t.setState("expVar",f);var g=h[2];t.setState("columnHeadersArray",g);for(var v=[],F=g.length,y=4;y<F;y+=2)v.push(y);for(var m=[],S=1;S<F;S+=2)m.push(S);var T=$("#factorRotationTable2").DataTable();T.destroy(),$("#factorRotationTable2").empty();return e.createFooter("factorRotationTable2",f,"no"),T=$("#factorRotationTable2").DataTable({retrieve:!0,searching:!1,ordering:!0,info:!1,scrollCollapse:!0,scrollX:!0,paging:!1,order:[[u,"asc"]],data:p,columns:g,columnDefs:[{type:"highestFactor",targets:2},{targets:v,searchable:!1,orderable:!0,render:function(e,t){return""===e?'<input type="checkbox" class="sigCheckbox" /><label></label>':'<input type="checkbox" class="sigCheckbox" id="d'+t+'" value="'+e+'" defaultChecked="'+("true"===e?"checked":"")+'"'+("true"===e?'checked="checked"':"")+" /><label></label>"}}],createdRow:function(e,t,a){var r;"gray"===d?(r=t[2].slice(0,2),$("td",e).css("background-color",s[r])):"colors"===d&&(r=t[2].slice(0,2),$("td",e).css("background-color",i[r]))}}),$("#chartAndTableDisplayContainer").hide(),VIEW.removeOutputFactorCheckboxes(),!1},e.drawRotatedFactorsTable2=function(a,c){var n=t.getState("rotFacStateArray"),l=e.prepChartDataArray2(n),s=t.getState("expVar");l.pop();var i,d=o(),u=r(),h=$("#section6 input[name=state2]:checked").val(),b=+$("#section6 input[name=state1]:checked").val(),p=n[0].length+1,f=[];ROTA.calculateFactorLoadingSignificanceLevel(),f.push({title:"No.",class:"dt-head-center dt-body-center"},{title:"Respond.",class:"dt-head-center dt-body-center"},{title:"FG",class:"dt-head-center dt-body-center"});for(var g=1;g<p;g++)i={title:"Ftr "+g,class:"dt-head-center dt-body-right"},f.push(i),f.push({title:"flag",class:"dt-head-center dt-body-center"});f.push({title:"h<sup>2</sup>",class:"dt-head-center dt-body-right"}),t.setState("columnHeadersArray",f);for(var v=[],F=f.length,y=4;y<F;y+=2)v.push(y);for(var m=[],S=1;S<F;S+=2)m.push(S);var T,k;"highlighter"===a?(k=t.colorButtonChartData,t.colorButtonChartData=""):k=e.rotationTableSortByFactor(l);e.createFooter("factorRotationTable2",s,"no"),"yes"===a?(T=$("#factorRotationTable2").DataTable(),T.clear(),e.createFooter("factorRotationTable2",s,"no"),T.rows.add(k).draw()):"destroy"===a?(T=$("#factorRotationTable2").DataTable(),T.destroy(),$("#factorRotationTable2").empty(),e.createFooter("factorRotationTable2",s,"no"),T=$("#factorRotationTable2").DataTable({retrieve:!0,searching:!1,ordering:!0,info:!1,scrollCollapse:!0,scrollX:!0,paging:!1,order:[[b,"asc"]],data:k,columns:f,columnDefs:[{type:"highestFactor",targets:2},{targets:v,searchable:!1,orderable:!0,render:function(e,t){return""===e?"":"flag"===c?'<input type="checkbox" class="sigCheckbox" id="d'+t+'" value="'+e+'" defaultChecked="'+("true"===e?"checked":"")+'"'+("true"===e?'checked="checked"':"")+" /><label></label>":'<input type="checkbox" class="sigCheckbox" /><label></label>'}}],createdRow:function(e,t,a){var r;"gray"===h?(r=t[2].slice(0,2),$("td",e).css("background-color",d[r])):"colors"===h&&(r=t[2].slice(0,2),$("td",e).css("background-color",u[r]))}})):("highlighter"===a&&(T=$("#factorRotationTable2").DataTable(),T.destroy(),$("#factorRotationTable2").empty(),e.createFooter("factorRotationTable2",s,"no")),T=$("#factorRotationTable2").DataTable({retrieve:!0,searching:!1,ordering:!0,info:!1,scrollCollapse:!0,scrollX:!0,paging:!1,order:[[b,"asc"]],data:k,columns:f,columnDefs:[{type:"highestFactor",targets:2},{targets:v,searchable:!1,orderable:!0,render:function(e,t){return""===e?'<input type="checkbox" class="sigCheckbox" /><label></label>':'<input type="checkbox" class="sigCheckbox" id="d'+t+'" value="'+e+'" defaultChecked="'+("true"===e?"checked":"")+'"'+("true"===e?'checked="checked"':"")+" /><label></label>"}}],createdRow:function(e,t,a){var r;"gray"===h?(r=t[2].slice(0,2),$("td",e).css("background-color",d[r])):"colors"===h&&(r=t[2].slice(0,2),$("td",e).css("background-color",u[r]))}}))},e.createFooter=function(e,t,a){if(0!==$("#factorRotationTable2 tfoot").text().length||"yes"===a)for(var r=$("#factorRotationTable2").DataTable(),o=0;o<t.length;o++){var c=r.column(o);$(c.footer()).html(t[o])}else{var n=document.createElement("tfoot"),l=document.createElement("tr");jQuery.each(t,function(e,t){var a=document.createElement("th");a.innerHTML=t,l.appendChild(a)}),n.appendChild(l),document.getElementById(e).appendChild(n)}},e.undoFactorRotation=function(){var a=ROTA.saveRotationArchiveCounter("get");a>1&&ROTA.saveRotationArchiveCounter("decrease");var r=a-1,o=t.getState("rotFacStateArrayArchive"+r),c=_.cloneDeep(o[0]);t.setState("rotFacStateArray",c);var n=o[1],l=o[3];t.setState("expVar",l);e.createFooter("factorRotationTable2",l,"yes");var s=$("#factorRotationTable2").DataTable();s.clear(),s.rows.add(n).draw(),ROTA.reInitializePlotAndChart()},e.prepChartDataArray2=function(e){for(var a=e.length,r=e[0].length,o=[],c=t.getState("qavRespondentNames"),n=t.getState("fSigCriterionResults"),l=t.getState("rowH2"),s=0;s<a;s++){var i=[];i.push(c[s]);for(var d=0;d<r;d++)i.push(e[s][d]),i.push(n[s][d]);i.push(l[s]),o.push(i)}var u=ROTA.calculateEigenvaluesAndVariance2();return o.push(u[0]),o},e.rotationTableSortByFactor=function(e){for(var t,a=[],r=[],o=_.cloneDeep(e),c=0,n=e.length;c<n;c++){t={},o[c].pop();var l=_.pick(o[c],_.isNumber);t.maxValue=_.max(l),t.minValue=_.min(l),t.sortNum=c+1,t.compareValue=Math.abs(t.maxValue)-Math.abs(t.minValue),t.compareValue>=0?(t.indexValue=_.indexOf(e[c],t.maxValue),t.subSortValue=t.maxValue):(t.indexValue=_.indexOf(e[c],t.minValue),t.subSortValue=Math.abs(t.minValue)),t.sort=e[c],a.push(t)}var s=_.cloneDeep(a);s.sort(function(e,t){var a=e.indexValue-t.indexValue;return a||t.subSortValue-e.subSortValue});for(var i,d,u={1:1,3:2,5:3,7:4,9:5,11:6,13:7,15:8},h=0,b=0,p=s.length;b<p;b++)d=s[b].indexValue,0===b||d===s[b-1].indexValue?h+=1:h=1,i="F"+u[d]+"-"+h,s[b].sort.splice(1,0,i),s[b].sort.unshift(s[b].sortNum),r.push(s[b].sort);return r}}(window.LOAD=window.LOAD||{},QAV)}});